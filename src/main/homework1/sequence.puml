@startuml

actor User
participant "Система" as System
participant "База данных" as Database

User -> System: Регистрация
System -> Database: Сохранение информации о пользователе
Database --> System: Подтверждение сохранения данных
System --> User: Подтверждение регистрации

User -> System: Вход в систему
System -> Database: Проверка введённых данных
Database --> System: Подтверждение корректности данных
System --> User: Успешный вход

User -> System: Выбор города
System -> Database: Запрос мероприятий по городу
Database --> System: Список мероприятий
System --> User: Отображение мероприятий

User -> System: Фильтрация по категориям
System -> Database: Запрос мероприятий по категориям
Database --> System: Список мероприятий
System --> User: Отображение отфильтрованных мероприятий

User -> System: Фильтрация по дате
System -> Database: Запрос мероприятий по дате
Database --> System: Список мероприятий
System --> User: Отображение отфильтрованных мероприятий

User -> System: Фильтрация по цене
System -> Database: Запрос мероприятий по цене
Database --> System: Список мероприятий
System --> User: Отображение отфильтрованных мероприятий

User -> System: Просмотр информации о событии
System -> Database: Запрос деталей мероприятия
Database --> System: Детали мероприятия
System --> User: Отображение информации о мероприятии

User -> System: Лайки артистам
System -> Database: Обновление предпочтений пользователя
Database --> System: Подтверждение обновления
System --> User: Подтверждение лайка

User -> System: Удаление лайков артистам
System -> Database: Обновление предпочтений пользователя
Database --> System: Подтверждение обновления
System --> User: Подтверждение удаления

User -> System: Просмотр лайкнутых артистов
System -> Database: Запрос артистов из предпочтений пользователя
Database --> System: Список артистов
System --> User: Отображение лайкнутых артистов

User -> System: Лайки местам проведения
System -> Database: Обновление предпочтений пользователя
Database --> System: Подтверждение обновления
System --> User: Подтверждение лайка

User -> System: Удаление лайков местам проведения
System -> Database: Обновление предпочтений пользователя
Database --> System: Подтверждение обновления
System --> User: Подтверждение удаления

User -> System: Просмотр лайкнутых мест проведения
System -> Database: Запрос мест проведения из предпочтений пользователя
Database --> System: Список мест проведения
System --> User: Отображение лайкнутых мест проведения

User -> System: Лайки категориям мероприятий
System -> Database: Обновление предпочтений пользователя
Database --> System: Подтверждение обновления
System --> User: Подтверждение лайка

User -> System: Удаление лайков категориям мероприятий
System -> Database: Обновление предпочтений пользователя
Database --> System: Подтверждение обновления
System --> User: Подтверждение удаления

User -> System: Просмотр лайкнутых категорий мероприятий
System -> Database: Запрос категорий мероприятий из предпочтений пользователя
Database --> System: Список категорий мероприятий
System --> User: Отображение лайкнутых категорий мероприятий

User -> System: Подписка на уведомления
System -> Database: Сохранение настроек уведомлений
Database --> System: Подтверждение сохранения
System --> User: Подтверждение подписки

User -> System: Отмена подписки на уведомления
System -> Database: Сохранение настроек уведомлений
Database --> System: Подтверждение сохранения
System --> User: Подтверждение отмены подписки

User -> System: Настройка напоминаний
System -> Database: Сохранение настроек напоминаний
Database --> System: Подтверждение сохранения
System --> User: Подтверждение настройки

User -> System: Покупка билета
System -> Database: Сохранение билетных данных
Database --> System: Подтверждение сохранения
System --> User: Подтверждение покупки
System -> Database: Сохранение мероприятия из билета в списке посещённых (после того как оно прошло)

User -> System: Отмена покупки билета
System -> Database: Удаление билетных данных
Database --> System: Подтверждение удаления
System --> User: Подтверждение отмены покупки

@enduml